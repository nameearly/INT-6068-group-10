### 一、项目概述
该项目是**INT6068 - 神经网络与深度学习**课程的学术研究项目，核心目标是基于强化学习（RL）实现3D无人机的自主路径规划，包含三个迭代演化的独立子项目，整体采用模块化设计，结合物理仿真、强化学习算法与深度学习框架完成无人机路径规划的训练、仿真与验证：

#### 核心子项目划分
1. **PyBullet物理仿真**：基于PyBullet物理引擎构建3D仿真环境，实现无人机路径规划的全流程（感知、决策、执行），支持PPO算法训练、大规模并行训练、仿真可视化等；
2. **简化仿真环境**：包含静态模拟、动态模拟、安全模块三个变体，简化物理仿真逻辑，侧重多无人机协同、电池/风力约束、碰撞检测等轻量化验证；
3. **深度学习实验**：自定义实现TD3强化学习算法，针对静态环境完成无人机路径规划的训练与验证，探索不同网络架构的效果。
####   技术债务和演进逻辑：
pybullet版本 是一个简单的奖励系统，主要关注目标达成和碰撞避免，后续开发中遇到了多智能体扩展的复杂性，因此做了 静态模拟/结合体.py 放弃了物理真实性，专注于多智能体算法研究
两者可以看作是同一研究项目的不同分支，分别优化了不同的目标

#### 核心技术与设计
- **算法层**：PPO（基于Stable-Baselines3）、自定义TD3（基于PyTorch）；
- **仿真层**：PyBullet（物理仿真）、Gymnasium（RL环境标准化）；
- **感知与决策**：35维状态空间（位置/速度/射线检测等）、3维动作空间（速度指令）、26方向射线避障检测；
- **奖励系统**：多维度奖励函数（距离奖励、目标完成奖励、碰撞惩罚、能效奖励等），平衡无人机的探索与任务完成效率。

### 二、项目启动方法
#### 前置准备：安装依赖
首先将项目代码下载/克隆到本地，建议创建Python虚拟环境（Python 3.8+），然后安装依赖（核心依赖文件在PyBullet仿真目录下）：
但对于本学期的项目来说，**pybullet项目不是必须的**，如果要安装pybullet项目环境需具备[C++开发环境](https://blog.csdn.net/qq_55149044/article/details/142153630)，那个太臃肿了，不是很建议。
```bash
# 进入PyBullet仿真核心目录
cd 基于pybullet的仿真模拟训练/pybullet 版 7.21/
# 安装所有依赖
pip install -r requirements.txt
```

#### 1. 启动核心子项目（PyBullet物理仿真）
该模块是项目最早期完成的实现，所有操作均在「基于pybullet的仿真模拟训练/pybullet 版 7.21/」目录下执行：
- **运行仿真可视化（加载预训练模型）**：
  ```bash
  cd 基于pybullet的仿真模拟训练/pybullet 版 7.21/
  python main.py  # 加载预训练模型，可视化无人机路径规划效果
  ```
- **PPO算法训练**：
  ```bash
  # 基础PPO训练
  python train_rl.py
  # 大规模并行训练（128个目标，SubprocVecEnv并行加速）
  python train_massive_single_drone.py
  ```
- **服务器模式运行**：
  ```bash
  python server_run.py
  ```
- **训练结果分析**：
  ```bash
  python data_analysis.py  # 基础指标分析
  python line_chart_generator.py  # 生成训练曲线
  ```

#### 2. 启动简化仿真环境
简化仿真包含3个变体，入口为各变体目录下的`结合体.py`，路径在「简化仿真模拟环境下的结果/」：
```bash
# 示例：启动静态模拟（动态/安全模块替换目录即可）
cd 简化仿真模拟环境下的结果/静态模拟/
python 结合体.py

# 动态模拟启动
cd 简化仿真模拟环境下的结果/动态模拟/
python 结合体.py

# 安全模块启动
cd 简化仿真模拟环境下的结果/安全模块/
python 结合体.py
```

#### 3. 启动深度学习实验（TD3算法）
该模块基于自定义TD3实现，路径在「深度学习尝试/」：
- **静态环境TD3训练（完整版本）**：
  ```bash
  cd 深度学习尝试/deeplearning1/
  python train.py
  ```
- **增强版TD3训练（开发中）**：
  ```bash
  cd 深度学习尝试/deeplearning2/
  python train.py
  ```

### 补充说明
- 预训练模型：PyBullet版本的预训练模型存放在「基于pybullet的仿真模拟训练/model/」，`main.py`会自动加载该模型；
- 奖励函数调整：核心奖励逻辑在PyBullet版本的`reward_system.py`、简化版本的`结合体.py`中，可根据需求修改奖励权重。
